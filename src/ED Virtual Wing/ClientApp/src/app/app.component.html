<mat-toolbar>
  <button mat-icon-button aria-label="Menu">
    <mat-icon>menu</mat-icon>
  </button>
  <span>Elite Dangerous Virtual Wing</span>
  <span class="toolbar-spacer"></span>
  <button mat-icon-button class="toolbar-icon favorite-icon" aria-label="Example icon-button with heart icon">
    <mat-icon>favorite</mat-icon>
  </button>
  <button mat-icon-button aria-label="Example icon-button with share icon">
    <mat-icon>share</mat-icon>
  </button>
</mat-toolbar>

<div class="container">
  <div [ngSwitch]="websocketService.connectionStatus">
    <div *ngSwitchCase="ConnectionStatus.Connecting">Connecting to server...</div>
    <div *ngSwitchCase="ConnectionStatus.NoConnection">Error! Connection to server failed!</div>
    <div *ngSwitchCase="ConnectionStatus.NotAuthenticated">
      <app-login-registration></app-login-registration>
    </div>
    <div *ngSwitchCase="ConnectionStatus.Authenticated">
      <div>
        You are authenticated.
      </div>
      <div *ngIf="!journalWorkerService.isBrowserSupported">
        We are sorry, but your browser doesn't support the required functionality for this website.<br>
        Currently, mainly Chromium based browsers (such as Chromium, Google Chrome, Edge) support the required
        functions.
      </div>
      <div *ngIf="journalWorkerService.isBrowserSupported">
        <div *ngIf="!journalWorkerService.serverSettingsReceived; else journalWorkerBtn">
          Waiting to receive settings from server...
        </div>
        <ng-template #journalWorkerBtn>
          <div *ngIf="journalWorkerService.journalWorkerActive">
            Journal worker is active...
            <br>
            <div *ngIf="journalWorkerService.commander">
              <div>
                Name
              </div>
              <div>
                {{ journalWorkerService.commander.Name }}
              </div>
              <hr>
              <div>
                Status / Activity
              </div>
              <div [ngSwitch]="journalWorkerService.commander.GameActivity">
                <span *ngSwitchCase="GameActivity.None">None</span>
                <span *ngSwitchCase="GameActivity.Supercruise">Supercruise</span>
                <span *ngSwitchCase="GameActivity.Hyperspace">Hyperspace</span>
                <span *ngSwitchCase="GameActivity.Combat">Combat</span>
              </div>
              <hr>
              <div>
                System
              </div>
              <div>
                {{ journalWorkerService.commander.CurrentStarSystem?.Name }}
              </div>
            </div>
          </div>
          <div *ngIf="!journalWorkerService.journalWorkerActive">
            <button (click)="journalWorkerService.startJournalWorker()">Start
              journal worker</button>
          </div>
        </ng-template>
      </div>
      <!--<router-outlet></router-outlet>-->
    </div>
  </div>
</div>